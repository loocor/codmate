{"nodes":[{"id":"n_title","type":"text","text":"CodMate Architecture (A-level)\nGoal: AI-friendly structure view\nStatus: Implemented","x":0,"y":0,"width":360,"height":90},{"id":"n_targets","type":"text","text":"SwiftPM Targets\n- CodMate (app)\n- notify (helper)","x":0,"y":130,"width":300,"height":140},{"id":"n_deps","type":"text","text":"External Dependencies\n- SwiftTerm (embedded terminal)\n- swift-sdk (MCP client)","x":340,"y":130,"width":360,"height":140},{"id":"n_entry","type":"text","text":"App Entry\nCodMateApp.swift + AppDelegate\nRole: lifecycle, windows, menu bar, notifications, sandbox restore","x":740,"y":130,"width":420,"height":170},{"id":"n_layers","type":"text","text":"Core Directories (Layered)\n- models/ (data types + view models)\n- services/ (IO, indexing, integrations)\n- utils/ (helpers, formatting, shell)\n- views/ (SwiftUI only)","x":0,"y":320,"width":520,"height":200},{"id":"n_services_focus","type":"text","text":"services/ High-Level Responsibilities\n- session indexing + cache\n- search\n- providers + CLI proxy\n- git review\n- terminal + external integrations","x":560,"y":320,"width":520,"height":200},{"id":"n_data","type":"text","text":"Data Stores\n- ~/.codex/sessions\n- ~/.claude/projects\n- ~/.gemini/tmp\n- ~/.codmate/*\n- ~/Library/Caches/CodMate/*\n- SessionIndex SQLite","x":0,"y":560,"width":520,"height":220},{"id":"n_flows","type":"text","text":"Primary Flows (A-level)\n- ingest: logs -> index -> view models -> views\n- search: query -> services -> view models -> views\n- resume/new: action -> services -> CLI -> terminal\n- git review: action -> services -> views","x":560,"y":560,"width":520,"height":220},{"id":"n_updates","type":"text","text":"Update System (Implemented)\nservices/UpdateService.swift (new)\nRole: check GitHub Releases, download DMG, open + guide install\nStatus: Implemented","x":1120,"y":320,"width":420,"height":200},{"id":"n_updates_ui","type":"text","text":"About Page Update UI (Implemented)\nviews/AboutViews.swift + SettingsView.swift\nRole: show update status + confirm download\nStatus: Implemented","x":1120,"y":540,"width":420,"height":190},{"id":"n_updates_flow","type":"text","text":"Update Flow (Implemented)\nstartup/about -> UpdateService -> GitHub Releases API -> DMG download -> open DMG + instructions\nStatus: Implemented","x":1120,"y":750,"width":420,"height":220},{"id":"n_updates_data","type":"text","text":"Update Cache (Implemented)\nUserDefaults: lastCheckDate, latestVersion, assetURL\nStatus: Implemented","x":560,"y":820,"width":520,"height":170}],"edges":[{"id":"e_targets_deps","fromNode":"n_targets","fromSide":"right","toNode":"n_deps","toSide":"left"},{"id":"e_targets_entry","fromNode":"n_targets","fromSide":"right","toNode":"n_entry","toSide":"left"},{"id":"e_entry_layers","fromNode":"n_entry","fromSide":"bottom","toNode":"n_layers","toSide":"top"},{"id":"e_layers_services","fromNode":"n_layers","fromSide":"right","toNode":"n_services_focus","toSide":"left"},{"id":"e_layers_data","fromNode":"n_layers","fromSide":"bottom","toNode":"n_data","toSide":"top"},{"id":"e_services_flows","fromNode":"n_services_focus","fromSide":"bottom","toNode":"n_flows","toSide":"top"},{"id":"e_services_updates","fromNode":"n_services_focus","fromSide":"right","toNode":"n_updates","toSide":"left"},{"id":"e_updates_ui","fromNode":"n_updates","fromSide":"bottom","toNode":"n_updates_ui","toSide":"top"},{"id":"e_updates_flow","fromNode":"n_updates_ui","fromSide":"bottom","toNode":"n_updates_flow","toSide":"top"},{"id":"e_updates_data","fromNode":"n_updates","fromSide":"bottom","toNode":"n_updates_data","toSide":"top"}]}